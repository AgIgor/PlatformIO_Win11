<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="shortcut icon" href="https://www.flaticon.com/download/icon/2906274?icon_id=2906274&author=353&team=353&keyword=Database+storage&pack=2906263&style=Lineal+Color&style_id=945&format=png&color=%23000000&colored=2&size=32&selection=1&type=standard&token=03AFcWeA7-P8aVncn5k2ptV8dUMtO9WGJ1awJJaRJZmev1PKnlTX-YAgCBOm4pZkxTlW53araV_4LmvMij-b2uj1rIyLnK47WMRQ_G-HuqqfIe4dThHfqyBCdZJmYlBWhQjKNy4iB6y_wVkvfeLuce5ciJkhppHZcc4kPZ1gy8Pnd00fb3h0zVzjMyOGbKge5_8Vqh6CmulGAsxz3rroR8e4dkfNSVf9Rmm0q8maBNYoXGwl6hMmUnZrV5vI41XFrqf4TpFKDMY2Za5I2YJhYwIGiB4CswTqxwVpWlH-_eR_Pprc-EO4AMso9J-FDBM0iPDXRu4a1aP7nl6OM3Z8dzBmKCf-owpyxBxQNLekiCf_xDqy5WOadabRWhwN7ADZ38ST1OE2FhCglKwinlwCqnqA38OdvB-RWYvKV4AMvJsolwCXEc0KYPn-PZ35MMFvjyzIwDz1IFceG5TP8OiNWbPud1wmmZprxbj88bW6wuQXCW3rJV3_FYHJhwmjsp_eQJLZ-2kvN8hrDxc8qF4cCcQKV-HFhIAXhJkMhKq2iNtVSfziI9VgKKoetynm4JUM69XSV87HcSmMA4bmCPySkMeIbZkV1R1U7LZxooZjq0_Vr5E7Q1A702SaGdHLalndTFGwRMSjFzC19bxK2kTQ12b3BiFxSmaoi3fuW-bNVkb5eGNJ_3gong6PFt-HJsSd74ygr_Ob4-FGpLhaqDOCgNUdsoUCUfyl384JJq4wZpdYec6KPtpO48rAB8E3O8ErozLGm7qjEjrf1XXe4wymkp2V5tg2jMrMB7eF0ixS8EvOIYNryA8JDZkASd_aKqE50IsopzEIf3rFAmxdshhYeBzRTIURS91G_hxnq1ljJYFXoVeqzw58ZMI3j-JR8YtP4hEJnFVo1bT1mvK_gzcuTotfQqeZLcSWIEHLOKvStdO5oLjU30PKzJyZy8_FUBYxjbu7-LPEAriH0ETBKUR7yVOaaRTGLrXxdQy1eOoEIK4_fDPB3oNFU4lipwqyJkvb_aCwyz_52X6rzPEagnExbUl2zjTnY9d6RfgBDRUUkPSPa8ziFo23ytGGAamGFk2kQ6ypSzujmAAoPzzuJMs9NodAGHm9FWht0g22aiXkNteSszNMmvDrSJsnI2xzSSTZIOVJw_k3q4EfdehCuAGqkPpiLtC1vna8i7gGSqr8A1S1rSDLvodP01gYn3yAWxhojGDMqLVQBHD_DKVB9LfW--Scqu1kh6n5AXYuVKBZybR_TKqj1IwQZjJkFx0YMzJBLN3NtQdsUs7fyCDpAX8HcvtGeN403P0Fu8KeAoOoyfTw1NTmt4NLWWhea3JoFufV3TNqtfbOAyQpxT96Sfd0QHaXU4wmgWaQI22Yq0HM2P7I2B7s15tLQDEN8XJseIuuPib3SiHN7lb82pW4pbKHmq8S-0ZL1cTwhO-kUgU4tv9_qRkLuaUd2r_JPYVDrDIwLnLkzX56ECWY9evo_ZWlbDEOSc3HKTjvKzG1BZ2zywGOmr7IPhxD_d1HhZWxf_K3L-dH_mJZkHNsNQXT34IcDN-sK8bRFGYy89CBuZWOJhe61yMtCiGMWKIB14PccLMO_Erc9bITVbBHNOTlsZthc6HAC381YIVamVtq8wij8tYmO5-hT_p2vZTPCW8vYMmRGVNhPKB176QIsj&search=database" type="image/x-icon">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
        <style>
            *{
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }
            body{
                display: block;
                height: 100vh;
                width: 100vw;
                font-family: 'Poppins', sans-serif;
                overflow: hidden;
            }
            div{
                height: 100%;
                max-width: 100%;
                padding: 10px;
                overflow-x: hidden;
                overflow-y: visible;
                scroll-behavior: smooth;

            }
        </style>
    </head>
    <body>
        <div id="saida"></div>
    </body>


    <script>
        const eventSource = new EventSource('http://192.168.15.11/events');
        const saida = document.getElementById('saida');
        saida.scrollTop = saida.scrollHeight
        var texto = ''

        const getTime = ()=> {
            return timeStamp = new Date().toLocaleTimeString()
        }

        eventSource.onopen = function(event) {
            texto = ''
            //console.log('Conex達o estabelecida', event.target.readyState);
            texto += `${getTime()} - Conex達o estabelecida ${event.target.readyState}\n`
        };
        eventSource.onerror = function(event) {
            if (event.target.readyState != EventSource.OPEN) {
                //console.log('Conex達o Finalizada', event.target.readyState);
                texto += `${getTime()} - Conex達o Finalizada ${event.target.readyState}\n\n`
                saida.innerText += texto
                saida.scrollTop = saida.scrollHeight
            }
        };
        eventSource.addEventListener('message', function(event) {
            //console.log('Mensagem recebida:', event.data);
            texto += `${getTime()} - Mensagem recebida: ${event.data}\n`
        });
        eventSource.addEventListener('millis', function(event) {
            //console.log('Millis:', Number(event.data)/1000);
            texto += `${getTime()} - Millis: ${Number(event.data)/1000}\n`
        });
        eventSource.addEventListener('temperature', function(event) {
            //console.log('Temp:', event.data);
            texto += `${getTime()} - Temp: ${event.data}\n`
        });
        eventSource.addEventListener('pressure', function(event) {
            //console.log('Press:', event.data);
            texto += `${getTime()} - Press: ${event.data}\n`
        });
        eventSource.addEventListener('humidity', function(event) {
            //console.log('Hum:', event.data);
            texto += `${getTime()} - Hum: ${event.data}\n`
        });

    </script>
</html>